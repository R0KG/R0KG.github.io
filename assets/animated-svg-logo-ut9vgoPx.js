import{_ as l}from"./WrapperPost.vue_vue_type_script_setup_true_lang-h66aYrYB.js";import{u as i,c as r,o,w as d,a as s,b as a}from"./app-BJ_3SEP9.js";const h="/logo.svg",p="/images/animated-svg-logo-vector.png",g="/images/animated-svg-logo-redraw.png",k="/images/animated-svg-logo-mask.png",w={__name:"animated-svg-logo",setup(y){const e={title:"Animated SVG Logo",date:"2023-07-19T00:00:00.000Z",lang:"en",duration:"10min",image:"https://romanmerk.me/og/animated-svg-logo.png",meta:[{property:"og:title",content:"Animated SVG Logo"},{name:"twitter:title",content:"Animated SVG Logo"},{property:"og:image",content:"https://romanmerk.me/og/animated-svg-logo.png"},{name:"twitter:image",content:"https://romanmerk.me/og/animated-svg-logo.png"},{name:"twitter:card",content:"summary_large_image"}]};return i({title:"Animated SVG Logo",meta:[{property:"og:title",content:"Animated SVG Logo"},{name:"twitter:title",content:"Animated SVG Logo"},{property:"og:image",content:"https://romanmerk.me/og/animated-svg-logo.png"},{name:"twitter:image",content:"https://romanmerk.me/og/animated-svg-logo.png"},{name:"twitter:card",content:"summary_large_image"}]}),(c,t)=>{const n=l;return o(),r(n,{frontmatter:e},{default:d(()=>t[0]||(t[0]=[s("div",{class:"prose m-auto slide-enter-content"},[s("p",null,"I recently replaced the logo on the top left corner with an animated SVG:"),s("p",{flex:"",p4:"",ma:""},[s("iframe",{src:"/animated_signature.html",title:"Animated signature",style:{width:"min(500px,100%)",height:"160px",border:"0",background:"transparent"},loading:"lazy"})]),s("h2",{id:"inspiration",tabindex:"-1"},[a("Inspiration "),s("a",{class:"header-anchor",href:"#inspiration","aria-hidden":"true"},"#")]),s("p",null,[a("The first time I saw such stroke animations in SVG is the "),s("a",{href:"https://icones.js.org/collection/line-md",target:"_blank",rel:"noopener"},"Material Line Icons"),a(" by "),s("a",{href:"https://github.com/cyberalien",target:"_blank",rel:"noopener"},"Vjacheslav Trushkin"),a(". It was cool, but I never thought about making one my own until I saw "),s("a",{href:"https://muan.co/",target:"_blank",rel:"noopener"},"Mu-An Chiou"),a("’s "),s("a",{href:"https://muan.co/pages/banners",target:"_blank",rel:"noopener"},"banner"),a(" on her website. I suddenly feel like I want to be the cool guy too!")]),s("h2",{id:"breakdown",tabindex:"-1"},[a("Breakdown "),s("a",{class:"header-anchor",href:"#breakdown","aria-hidden":"true"},"#")]),s("p",null,[a("I downloaded Mu-An’s SVG to read the code, cross-referencing the Material Line Icons. I found the trick is quite interesting, they animated "),s("code",null,"stroke-dasharray"),a(" to achieve the effect. This feels quite unintuitive as when you check the "),s("a",{href:"https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dasharray",target:"_blank",rel:"noopener"},"MDN documentation"),a(", it looks like a pretty boring attribute.")]),s("p",null,"I searched a bit more and found these two interesting articles:"),s("ul",null,[s("li",null,[s("a",{href:"https://jakearchibald.com/2013/animated-line-drawing-svg/",target:"_blank",rel:"noopener"},"Animated line drawing in SVG"),a(" by Jake Archibald")]),s("li",null,[s("a",{href:"https://css-tricks.com/svg-line-animation-works/",target:"_blank",rel:"noopener"},"How SVG Line Animation Works"),a(" by Chris Coyier")])]),s("p",null,[a("They covered this technique very well, highly recommend reading them if you are interested. Basically, the animation is done by a "),s("strong",null,"very long"),a(" dash moving, in which you will see the dash as the drawing line and the gap as empty space. The length and position of the dash are controlled by "),s("code",null,"stroke-dasharray"),a(" and "),s("code",null,"stroke-dashoffset"),a(", which are both animatable.")]),s("h2",{id:"the-original-logo",tabindex:"-1"},[a("The Original Logo "),s("a",{class:"header-anchor",href:"#the-original-logo","aria-hidden":"true"},"#")]),s("p",null,[a("My original logo "),s("a",{href:"/logo.svg",target:"_blank","important-border-none":"","inline-block":""},[s("img",{src:h,"h-1.5em":"","dark:filter-invert":"","important-m0":"","inline-block":"",alt:"My Logo in SVG"})]),a(" comes from around 8 years ago, I draw it with a pressure-sensitive pen on my Surface Pro 4. It was used as a temporary placeholder for the portfolio I was trying to build at that time. I later image-traced it with Adobe Illustrator to get the SVG version. Surprising to recall, it has been so long since then.")]),s("div",{rounded:"",shadow:"","of-hidden":"",border:"~ base op20"},[s("img",{src:p,"dark:invert-95":"","important-m0":""})]),s("h2",{id:"rework-the-logo",tabindex:"-1"},[a("Rework the Logo "),s("a",{class:"header-anchor",href:"#rework-the-logo","aria-hidden":"true"},"#")]),s("p",null,[a("As we see, the animation is done by moving the dash on strokes, while my Logo is a vector outline with multiple control points. So I need to redraw it with a single stroke. It took a bit of practice to get used to the "),s("a",{href:"https://blog.openreplay.com/using-the-pen-tool-in-figma/",target:"_blank",rel:"noopener"},"pen tool"),a(", I managed to make it with Figma.")]),s("div",{rounded:"",shadow:"","of-hidden":"",border:"~ base op20"},[s("img",{src:g,"dark:invert-95":"","important-m0":""})]),s("p",null,"Manually adding the styles in the exported SVG,"),s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light",style:{"--s-dark":"#dbd7caee","--s-light":"#393a34","--s-dark-bg":"#121212","--s-light-bg":"#ffffff"},tabindex:"0"},[s("code",{class:"language-css"},[s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"@"),s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}},"media"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," ("),s("span",{style:{"--s-dark":"#DBD7CAEE","--s-light":"#393A34"}},"prefers-reduced-motion"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},")"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}},"  path"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    animation"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," none"),s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}}," !important"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," unset"),s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}}," !important"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"@"),s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}},"keyframes"),s("span",{style:{"--s-dark":"#BD976A","--s-light":"#B07D48"}}," grow"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  0%"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dashoffset"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 1"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 350"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    opacity"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  10%"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    opacity"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 1"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  40%"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 350"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#758575DD","--s-light":"#A0ADA0"}},"  /* Moving back */")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  85%"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 350"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  95%"),s("span",{style:{"--s-dark":"#DBD7CAEE","--s-light":"#393A34"}},",")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  to"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 350"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}},"path"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  stroke-dashoffset"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 1"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 350"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  animation"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#DBD7CAEE","--s-light":"#393A34"}}," grow "),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}},"10"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"s"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," ease"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," forwards"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," infinite"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  transform-origin"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," center"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  stroke"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," #"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}},"303030"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  animation-delay"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"s"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"}")])])]),s("p",null,"now we have a decent animated logo:"),s("p",{flex:"",p4:"",ma:""},[s("iframe",{src:"/animated_signature.html",title:"Animated signature",style:{width:"min(500px,100%)",height:"160px",border:"0",background:"transparent"},loading:"lazy"})]),s("p",null,[a("The only downside is that the stroke is evenly thick everywhere, making it looks less like a signature. I tried to look for solutions and end up with the "),s("a",{href:"https://www.w3.org/Graphics/SVG/WG/wiki/Proposals/Variable_width_stroke",target:"_blank",rel:"noopener"},"Variable width stroke proposal"),a(", however, it does not seem to be going anywhere. Well, it’s stroke anyway, it’s supposed to be even. Giving the animation is super cool already, what else can I ask for?")]),s("h2",{id:"variable-stroke-width",tabindex:"-1"},[a("Variable Stroke Width "),s("a",{class:"header-anchor",href:"#variable-stroke-width","aria-hidden":"true"},"#")]),s("p",null,"When I almost gave up, I was playing around with Figma to do some final cleanup with the drafts, I suddenly realized that SVG does have mask support. So what if I have the original SVG shape as the mask, and let the stroke animate inside the mask? So I gave it a try and surprisingly it works!"),s("div",{rounded:"",shadow:"","of-hidden":"",border:"~ base op20"},[s("img",{src:k,"dark:invert-95":"","important-m0":""})]),s("p",null,"Basically we are using the mask to limit the stroke’s visibility, a trick to workaround the limitation of the stroke width. Note it’s not 100% pixel-perfect, as in the interaction we can’t control the stroke width, so the stroke will be a bit off the mask. We can try to adjust the mask to make it look a bit better, but you will still see a big glitch when zooming in a lot. I guess it might be possible to solve this with multiple strokes and masks, but this one is already quite good to me."),s("p",{flex:"",p4:"",ma:""},[s("iframe",{src:"/animated_signature.html",title:"Animated signature",style:{width:"min(500px,100%)",height:"160px",border:"0",background:"transparent"},loading:"lazy"})]),s("p",null,"Hope you enjoy the article, and I’d love to see your animated SVG logo too!")],-1)])),_:1,__:[0]})}}};export{w as default};
